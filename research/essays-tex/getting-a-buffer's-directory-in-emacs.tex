% Created 2020-02-04 Tue 17:25
% Intended LaTeX compiler: pdflatex
\documentclass[12pt, a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\usepackage[style=authoryear,natbib]{biblatex}
\setlength\bibitemsep{\baselineskip}
\addbibresource{/Users/guilhermesalome/Emacs/references.bib}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{bbm}
\usepackage{dsfont}
\usepackage[]{algorithm2e}
\usepackage[flushleft]{threeparttable}
\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}
\newcommand{\E}[1]{\mathbb{E}{\left[#1\right]}}
\newcommand{\EQ}[1]{\mathbb{E}_t^{\mathbb{Q}}{\left[#1\right]}}
\newcommand{\EP}[1]{\mathbb{E}_t^{\mathbb{P}}{\left[#1\right]}}
\newcommand{\e}[1]{\text{e}^{#1}}
\newcommand{\abs}[1]{\left\vert{#1}\right\vert}
\newcommand{\dis}{\overset{d}{\sim}}
\newcommand{\Var}[1]{\mathrm{Var}\left(#1\right)}
\newcommand{\Corr}[1]{\mathrm{Corr}\left(#1\right)}
\newcommand{\Normal}[1]{\mathcal{N}\left(0, #1\right)}
\newcommand{\StdNormal}{\Normal{1}}
\newcommand{\stdnormal}{\mathcal{N}\left(0, 1\right)}
\newcommand{\Max}[1]{\text{max}\left\{#1\right\}}
\newcommand{\Set}[1]{\left\{#1\right\}}
\newcommand{\Norm}[1]{\left\Vert #1 \right\Vert}
\newcommand{\Prob}[1]{\mathbb{P}\left(#1\right)}
\newcommand{\ProbHat}[1]{\hat{\mathbb{P}}\left(#1\right)}
\renewcommand{\ln}[1]{\text{ln}\left(#1\right)}
\DeclareMathOperator*{\argmin}{\arg\!\min}
\DeclareMathOperator*{\argmax}{\arg\!\max}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
\newcommand{\Poisson}[1]{\text{Poisson}\left(#1\right)}
\newcommand{\Uniform}[1]{\text{Unif}#1}
\newcommand{\Cov}[1]{\mathrm{Cov}\left(#1\right)}
\usepackage[hang,small,bf]{caption}
\usepackage[margin=1in]{geometry}
\usepackage{mathtools}
\usepackage{xcolor}
\usepackage{resizegather}
\usepackage{multirow}
\definecolor{darkgreen}{rgb}{0.1, 0.6, 0.1}
\usepackage{float}
\usepackage{setspace}
\usepackage{listings}
\usepackage{import}
\input{/Users/guilhermesalome/Emacs/Settings/Latex/latex-code.tex}
\newtheorem{problem}{Problem}
\newtheorem{theorem}{Theorem}
\usepackage[flushleft]{threeparttable}
\date{}
\title{Getting a Buffer's Directory in Emacs}
\hypersetup{
 pdfauthor={Guilherme Salom√©},
 pdftitle={Getting a Buffer's Directory in Emacs},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 26.1 (Org mode 9.2.1)},
 pdflang={English}}
\begin{document}

\maketitle
The quickest way to display the full path of a file (buffer) in Emacs is via the function \texttt{pwd}: \texttt{M-x pwd}.
You can also do \texttt{(kill-new (string-trim-left (pwd) "Directory "))} to have the current directory copied to clipboard. The string-trim-left is used to remove the "Directory " that shows up as the result of \texttt{pwd}.
Additionally, you can write this as a function and then call it:
\lstset{language=elisp,label= ,caption= ,captionpos=b,numbers=none}
\begin{lstlisting}
(defun copy-pwd ()
  "Copy buffer's working directory to clipboard."
  (interactive)
  (kill-new (string-trim-left (pwd) "Directory "))
  )
\end{lstlisting}
The cool thing about calling this function is that \texttt{pwd} has the side effect of also displaying its result on the modeline, so you get to see the directory and have it on the clipboard too!

The \texttt{kill-new} function is used to put a string in the kill ring (basically putting it in the clipboard) (see \href{https://stackoverflow.com/questions/2178850/how-to-copy-to-clipboard-in-emacs-lisp}{this stack post}). Lastly, \texttt{string-trim-left} takes a string as an argument and removes another string from its left side.
\end{document}